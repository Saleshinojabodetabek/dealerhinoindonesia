# ============================================

# üî∞ HINO DEALER INDONESIA - .HTACCESS CONFIG

# ============================================

# ==========================================================

# 1Ô∏è‚É£ FORCE HTTPS + NON-WWW (https://dealerhinoindonesia.com)

# ==========================================================

RewriteEngine On
RewriteCond %{HTTPS} off [OR]
RewriteCond %{HTTP_HOST} ^www\.dealerhinoindonesia\.com [NC]
RewriteRule ^(.\*)$ https://dealerhinoindonesia.com/$1 [L,R=301]

# ============================================

# 2Ô∏è‚É£ SKIP REWRITE UNTUK FILE / FOLDER ASLI

# ============================================

RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# ============================================

# 3Ô∏è‚É£ SEO FRIENDLY URL - PRODUK

# ============================================

# --- Hino 300 Series ---

# Contoh: /hino300/115-sd-std-euro4

RewriteRule ^hino300/([a-z0-9-]+)/?$ product-detail-hino300.php?slug=$1 [L,QSA]

# --- Hino 500 Series ---

# Contoh: /hino500/fg-260-js-euro4

RewriteRule ^hino500/([a-z0-9-]+)/?$ product-detail-hino500.php?slug=$1 [L,QSA]

# --- Hino Bus Series ---

# Contoh: /hinobus/115-sdb-std-euro4

RewriteRule ^hinobus/([a-z0-9-]+)/?$ product-detail-hinobus.php?slug=$1 [L,QSA]

# ============================================

# 4Ô∏è‚É£ SEO FRIENDLY URL - ARTIKEL

# ============================================

# --- Artikel detail ---

# Contoh: /artikel/bus-hino-kembali-dipercaya

RewriteRule ^artikel/([a-z0-9-]+)/?$ artikel-detail.php?slug=$1 [L,QSA]

# --- Kategori artikel ---

# Contoh: /kategori/promo

RewriteRule ^kategori/([a-z0-9-]+)/?$ artikel.php?kategori=$1 [L,QSA]

# ============================================

# 5Ô∏è‚É£ DEFAULT INDEX FILE

# ============================================

DirectoryIndex index.php

# ============================================

# üîí ROOT SECURITY CONFIGURATION

# ============================================

# --- Disable directory listing ---

Options -Indexes -ExecCGI

# --- Protect sensitive files ---

<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteRule ^(\.env|composer\.(json|lock)|\.git|\.ht(access|passwd)|config\.php)$ - [F,L,NC]
</IfModule>

# --- Deny direct access to core config files ---

<FilesMatch "^(config\.php|\.htaccess|\.htpasswd)$">
Require all denied
</FilesMatch>

# --- Deny dangerous extensions ---

<FilesMatch "\.(bak|sql|ini|sh|log|conf|env|json|yml)$">
Require all denied
</FilesMatch>

# --- Prevent PHP execution in risky folders ---

<IfModule mod_php.c>
    <Directory "uploads">
        <FilesMatch "\.ph(p|ar|tml|phtml)$">
            Require all denied
        </FilesMatch>
    </Directory>

    <Directory "images">
        <FilesMatch "\.ph(p|ar|tml|phtml)$">
            Require all denied
        </FilesMatch>
    </Directory>

</IfModule>

# --- Protect sensitive directories ---

RewriteRule ^(admin|config|system|private|core)/ - [F,L,NC]

# --- Prevent PHP interpreted as script in text-based MIME ---

AddType text/plain .php .phtml .php3 .php4 .php5 .phps

# --- Deny access to hidden/temp files ---

<FilesMatch "(\.(swp|swo|DS_Store|tmp))$">
Require all denied
</FilesMatch>

# ============================================

# ‚úÖ END OF .HTACCESS CONFIG

# ============================================
